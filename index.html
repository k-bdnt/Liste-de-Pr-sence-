<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ูุธุงู ุฅุฏุงุฑุฉ ุงูุญุถูุฑ ูุงูุบูุงุจ</title>

<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

</head>
<body>
<div id="toast-notification"></div>

<header>
    ูุธุงู ุฅุฏุงุฑุฉ ุงูุญุถูุฑ ูุงูุบูุงุจ
    <button onclick="toggleDarkMode()" 
            style="position: absolute; left: 15px; top: 10px; 
                   background: none; border: 1px solid white; 
                   color: white; padding: 5px 10px; font-size: 1em; 
                   box-shadow: none !important; transform: none !important;">
        <i class="fas fa-moon"></i>
    </button>
</header>
<main id="main">

<div id="employees" class="tab-content-card">
    <h2>๐ ููุญุฉ ุงูููุงุฏุฉ (ูุธุฑุฉ ุนุงูุฉ)</h2>
    
    <div class="dashboard-section">
        <h3>๐ ููุฎุต ุงูููู <small id="currentDateDisplay" style="color: #6c757d; font-size: 0.9em; font-weight: normal;"></small></h3>
        <div class="dashboard-summary-container">
            <div class="kpi-card-dashboard green">
                <h4>ููุธููู ุญุงุถุฑูู (Punch In ูุดุท)</h4>
                <span id="kpiPresentNow" class="kpi-value-dashboard">0</span>
            </div>
            <div class="kpi-card-dashboard red">
                <h4>ุบูุงุจุงุช ูุคูุฏุฉ</h4>
                <span id="kpiAbsencesToday" class="kpi-value-dashboard">0</span>
            </div>
            <div class="kpi-card-dashboard yellow">
                <h4>ุฅุฌูุงูู ุงูููุธููู ุงููุณุฌููู</h4>
                <span id="kpiTotalWorkers" class="kpi-value-dashboard">0</span>
            </div>
        </div>
    </div>
    
    <div class="dashboard-section">
        <h3>๐ ูู ูู ุญุงุถุฑ ุงูุขูุ</h3>
        <ul id="presenceNowList"></ul>
    </div>
    
    <div class="dashboard-section" style="margin-top: 30px;">
        <h3>โ๏ธ ุฅุฌุฑุงุกุงุช ููุนูููุฉ (ุณุฌูุงุช ุบูุฑ ูุบููุฉ)</h3>
        <p style="color: #dc3545;">*ุณุฌู **ุฏุฎูู** ูุฃูุงู ุณุงุจูุฉ ุจุฏูู **ุฎุฑูุฌ**.</p>
        <ul id="pendingActionsList"></ul>
    </div>
    
    <hr style="margin-top: 30px; margin-bottom: 30px;">
    
    <h2>๐ ุฅุฏุงุฑุฉ ุงูููุธููู ูุงูุฃุนูุงุฏ</h2>
    <p style="border-bottom: 1px dashed #ccc; padding-bottom: 10px;">**ูุงุฆูุฉ ูุฅุฏุงุฑุฉ ุงูููุธููู:**</p>
    <div class="input-group" style="display: block;">
        <input type="text" id="workerName" placeholder="ุงูุงุณู ุงููุงูู ููููุธู">
        <input type="text" id="workerDepartment" placeholder="ุงููุณู / ุงููุฑุน">
        <div class="input-group" style="margin-top: 5px;">
             <div><label for="defaultEntry">ุฏุฎูู ุงูุชุฑุงุถู:</label><input type="time" id="defaultEntry" value="09:00"></div>
            <div><label for="defaultExit">ุฎุฑูุฌ ุงูุชุฑุงุถู:</label><input type="time" id="defaultExit" value="17:00"></div>
        </div>
        <button onclick="addWorker()" style="margin-top: 5px; background-color: var(--primary-color);">ุฅุถุงูุฉ ููุธู</button>
    </div>
    <ul id="workerList" style="list-style-type: none; padding: 0;"></ul>
    <p style="border-bottom: 1px dashed #ccc; padding: 15px 0 10px 0; margin-top: 20px;">**ุฅุฏุงุฑุฉ ุงูุฃูุงู ูุงูููุงุณุจุงุช:**</p>
    <div class="input-group" style="display: block;">
        <input type="date" id="holidayDate" style="margin-bottom: 5px;">
        <input type="text" id="holidayName" placeholder="ุงุณู ุงูููุงุณุจุฉ (ูุซุงู: ุนูุฏ ุงููุทุฑ)">
        <button onclick="addHoliday()" style="margin-top: 5px; background-color: #555;">ุฅุถุงูุฉ ููุงุณุจุฉ / ููู ุนุทูุฉ</button>
    </div>
    <ul id="holidayList" style="list-style-type: none; padding: 0;"></ul>
</div>

<div id="register" class="tab-content-card hidden">
    <h2>โ๏ธ ุชุณุฌูู ุงูุญุถูุฑ ูุงูุบูุงุจ</h2>
    
    <div class="quick-register-card">
        <h3>โก ุชุณุฌูู ููุฑู (Punch In / Punch Out)</h3>
        
        <div class="custom-select-container" id="quickSelectContainer">
            <button id="customQuickSelectButton" class="custom-select-button" onclick="toggleWorkerDropdown('quick')">
                <span id="selectedWorkerCount">-- ุงุฎุชุฑ 0 ููุธู(ูู) --</span>
                <i class="fas fa-caret-down"></i>
            </button>
            <div id="customQuickWorkerSelectDropdown" class="custom-select-dropdown hidden" onmouseleave="closeWorkerDropdown('quick')"></div>
        </div>
        
        <textarea id="taskNoteQuick" placeholder="ุงููููุฉ(ุงูููุงู) ุงูููุฌุฒุฉ / ููุงุญุธุฉ (ุงุฎุชูุงุฑู)"></textarea>
        <div class="input-group" style="justify-content: space-between; gap: 10px;">
            <button onclick="quickPunch('in')" style="flex: 1; background-color: var(--success-color);"><i class="fas fa-arrow-circle-right"></i> ุฏุฎูู</button>
            <button onclick="quickPunch('out')" style="flex: 1; background-color: var(--danger-color);"><i class="fas fa-arrow-circle-left"></i> ุฎุฑูุฌ</button>
        </div>
        <p style="font-size: 0.9em; color: #777; margin-top: 15px;">ูุชู ุชุณุฌูู ุงูููุช ุงูุญุงูู ุชููุงุฆูุงู.</p>
    </div>
    <div style="margin-top: 25px; border-top: 1px dashed #ccc; padding-top: 15px;">
        <h3>ููุฎุต ุงูุฅุฏุฎุงูุงุช ุงูููุฑูุฉ ููููู:</h3>
        <ul id="quickSummaryList" style="list-style-type: none; padding: 0;"></ul>
    </div>
    <hr style="margin-top: 30px; margin-bottom: 30px;">
    <div class="manual-register-section">
        <h3>๐ฐ๏ธ ุชุณุฌูู ูุฏูู ุฃู ุจุฃุซุฑ ุฑุฌุนู</h3>
        <div class="input-group">
            <div><label for="workerSelect">ุงูููุธู:</label><select id="workerSelect"><option value="" disabled selected>-- ุงุฎุชุฑ --</option></select></div>
            <div><label for="dateSelect">ุงูุชุงุฑูุฎ:</label><input type="date" id="dateSelect"></div>
        </div>
        <div class="input-group">
            <div><label for="entryTime">ููุช ุงูุฏุฎูู:</label><input type="time" id="entryTime"></div>
            <div><label for="exitTime">ููุช ุงูุฎุฑูุฌ:</label><input type="time" id="exitTime"></div>
        </div>
        <div class="input-group">
            <div><label for="breakStart">ุจุฏุงูุฉ ุงูุงุณุชุฑุงุญุฉ (ุงุฎุชูุงุฑู):</label><input type="time" id="breakStart"></div>
            <div><label for="breakEnd">ููุงูุฉ ุงูุงุณุชุฑุงุญุฉ (ุงุฎุชูุงุฑู):</label><input type="time" id="breakEnd"></div>
        </div>
        <textarea id="manualNote" placeholder="ููุงุญุธุฉ ุฎุงุตุฉ ุจูุฐุง ุงูุณุฌู (ุงุฎุชูุงุฑู)"></textarea>
        <button id="registerButton" onclick="registerPresence()">ุชุณุฌูู ุงูุญุถูุฑ</button>
        <button onclick="clearForm()" style="background-color: #6c757d; margin-top: 5px;">ุฅูุบุงุก / ูููุฐุฌ ุฌุฏูุฏ</button>
    </div>
    <hr style="margin-top: 30px; margin-bottom: 30px;">
    <div class="absence-section">
        <h3>โ ุฅุฏุงุฑุฉ ุงูุบูุงุจุงุช ูุงูุฅุฌุงุฒุงุช (ููุฎุทุท ููุง)</h3>
        <div class="input-group">
            <div><label for="absenceWorker">ุงูููุธู:</label><select id="absenceWorker"><option value="" disabled selected>-- ุงุฎุชุฑ --</option></select></div>
            <div><label for="absenceReason">ุงูุณุจุจ:</label><select id="absenceReason">
                <option value="Maladie">ูุฑุถู</option><option value="Permission">ุฅุฐู</option>
                <option value="Conge_Annuel">ุฅุฌุงุฒุฉ ุณูููุฉ</option><option value="Autre">ุฃุฎุฑู</option>
            </select></div>
        </div>
        <p style="margin-top: 15px; margin-bottom: 5px;">**ูุชุฑุฉ ุงูุบูุงุจ:**</p>
        <div class="input-group">
            <div><label for="startDate">ุชุงุฑูุฎ ุงูุจุฏุงูุฉ:</label><input type="date" id="startDate"></div>
            <div><label for="endDate">ุชุงุฑูุฎ ุงูููุงูุฉ (ููุณ ุงูุชุงุฑูุฎ ูููู ูุงุญุฏ):</label><input type="date" id="endDate"></div>
        </div>
        <button onclick="registerPlannedAbsence()" style="background-color: var(--danger-color);">ุชุณุฌูู / ุชุฎุทูุท ุงูุบูุงุจ</button>
        <p style="margin-top: 25px; border-top: 1px dashed #ddd; padding-top: 10px;">**ุงูุบูุงุจุงุช ุงููุฎุทุท ููุง:**</p>
        <ul id="plannedAbsenceList" style="list-style-type: none; padding: 0;"></ul>
    </div>
</div>

<!-- ุจุงูู ุงูุชุจููุจุงุช ูุซู ุงูุฌุฏููุ ุงูุชููููุ ุงูุชูุงุฑูุฑุ ุงูุจุฑููุงููุ ุงูุชุตุฏูุฑ... ููุณ ุงูููููุ ูููู ุงูุฅุถุงูุฉ ูุงุญูุงู -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="script.js"></script>

</body>
</html>
